<!DOCTYPE html>
<html xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<head>
<title data-th-text="${@config.topbarTitle}"></title>

<link rel="stylesheet" media="screen" data-th-href="@{/webjars/bootstrap/css/bootstrap.min.css}" />
<link rel="stylesheet" type="text/css" media="screen" data-th-href="@{/webjars/font-awesome/css/font-awesome.min.css}" />

<style type="text/css">
.container {
	margin-top: 10%;
}
</style>
</head>
<body>
	<div class="container">
		<div class="row">
			<div class="col-md-4 col-md-offset-4">
				<div class="panel panel-primary">
					<div class="panel-heading">
						<h3 class="panel-title">Sample Client</h3>
					</div>
					<div class="panel-body">This would normally be on a separate client application's server, but we're redirecting here as demo to show the redirect response contents</div>

					<div class="panel-body">
						<div class="panel-group" id="accordion">
							<div class="panel panel-default">
								<div class="panel-heading">
									<h4 class="panel-title">
										<a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">Access Token</a>
									</h4>
								</div>
								<div id="collapseOne" class="panel-collapse collapse in">
									<div class="panel-body">  
										<div><pre><code id="access_token"></code></pre></div>
									</div>
								</div>
							</div>
							<div class="panel panel-default">
								<div class="panel-heading">
									<h4 class="panel-title">
										<a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">ID Token</a>
									</h4>
								</div>
								<div id="collapseTwo" class="panel-collapse collapse in">
									<div class="panel-body">  
										<div><pre><code id="id_token"></code></pre></div>
									</div>
								</div>
							</div>
						</div>
					</div>

				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript" data-th-src="@{/webjars/jquery/jquery.min.js}"></script>
	<script type="text/javascript" data-th-src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
	<script type="text/javascript" src="https://cdn.rawgit.com/allmarkedup/purl/master/purl.js"></script>
	<script>
		$(document).ready(function() {
			$( "#access_token" ).html(JSON.stringify(JSON.parse(atob($.url(window.location.href.replace("#","?")).param('access_token').split(".")[1])),null,4));
			$( "#id_token" ).html(JSON.stringify(JSON.parse(atob($.url(window.location.href.replace("#","?")).param('id_token').split(".")[1])),null,4));
		});
	</script>
</body>
</html>